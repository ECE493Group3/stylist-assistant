import firebase_admin
from firebase_admin import credentials
from firebase_admin import db
from keys import filename

from cloth import Cloth

def get_uid(user_email):
	try:
		ref = db.reference('/users/').get()
	except:
		connect_firebase()
		ref = db.reference('/users/').get()

	for uid in ref:
		em = db.reference('/users/'+ uid).child('email').get()
		if em == user_email:
			return uid

def get_wardrobe(user_id):

	try:
		ref = db.reference('/users/'+user_id+'/wardrobeitems').get()
	except:
		connect_firebase()
		ref = db.reference('/users/'+user_id+'/wardrobeitems').get()

	wardrobe = []
	for items in ref:
		img_file = db.reference('/users/'+user_id+'/wardrobeitems/'+items).child('img').get()
		cat = db.reference('/users/'+user_id+'/wardrobeitems/'+items).child('category').get()
		c = Cloth(img_file, "", cat)
		wardrobe.append(c)

	return wardrobe

def update_wardrobe(user_id, imageURL, category):
	try:
		ref = db.reference('/users/'+user_id+'/wardrobeitems')
	except:
		connect_firebase()
		ref = db.reference('/users/'+user_id+'/wardrobeitems')


	# wardrobeitems = {
	# 	"category": str(cloth_item.get_cat_label()),
	# 	"imageURL": str(imageURL),
	# }

	wardrobeitems = {
		"category": "Jeans",
		"img": "data:image/jpg;base64,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"
	}

	ref.push(wardrobeitems)
	
def update_recommended_outfits(user_id, recommend_outfits):

	try:
		ref = db.reference('/users/'+user_id+'/recommendedoutfits')
	except:
		connect_firebase()
		ref = db.reference('/users/'+user_id+'/recommendedoutfits')

	outfits = {
		"categorybottom": "Jeans",
		"categoryfull": "None",
		"categorytop": "Hoodie",
		"imgage": "img/ionic.png",
		"name": "Other Jeans and Hoodie",
	}	

	ref.push(outfits)

def connect_firebase():
	# Fetch the service account key JSON file contents
	cred = credentials.Certificate(filename)

	firebase_admin.initialize_app(cred, {
		'databaseURL': 'https://personalstylist-788fb.firebaseio.com'
		})

if __name__ == '__main__':

	c = get_uid("askalburgi@gmail.com")
	wardrobe = get_wardrobe(c)

	update_wardrobe(c, "", "")
	for i in wardrobe:
		print(str(i))

	update_recommended_outfits(c, [])
		
	print c

	exit(1)
